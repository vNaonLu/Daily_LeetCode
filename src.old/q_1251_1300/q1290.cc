#include <gtest/gtest.h>
#include <iostream>
#include <leetcode/listnode.hpp>

using namespace std;

/**
 * This file is generated by leetcode_add.py v1.0
 *
 * 1290.
 *       Convert Binary Number in a Linked List to Integer
 *
 * ––––––––––––––––––––––––––––– Description –––––––––––––––––––––––––––––
 *
 *   Given ‘head’ which is a reference node toa singly-linked list. The
 *   value of each node in the linked list is either 0 or 1. The linked
 *   list holds the binary representation of a
 *   Return the “decimal value” of the number in the linked
 *   
 *
 * ––––––––––––––––––––––––––––– Constraints –––––––––––––––––––––––––––––
 *
 *   • The Linked List is not empty.
 *   • Number of nodeswill not exceed ‘30’ .
 *   • Each node's value is either ‘0’ or ‘1’ .
 *
 */

struct q1290 : public ::testing::Test {
  // Leetcode answer here
  class Solution {
   public:
    int getDecimalValue(ListNode* head) {
      int res = 0;
      while (nullptr != head) {
        res <<= 1;
        if (head->val == 1) res |= 1;
        head = head->next;
      }
      return res;
    }
  };

  class Solution *solution;
};

TEST_F(q1290, sample_input01) {
  solution = new Solution();
  ListNode* head = ListNode::generate({1, 0, 1});
  int exp = 5;
  EXPECT_EQ(solution->getDecimalValue(head), exp);
  delete solution;
}

TEST_F(q1290, sample_input02) {
  solution = new Solution();
  ListNode* head = ListNode::generate({0});
  int exp = 0;
  EXPECT_EQ(solution->getDecimalValue(head), exp);
  delete solution;
}

TEST_F(q1290, sample_input03) {
  solution = new Solution();
  ListNode* head = ListNode::generate({1});
  int exp = 1;
  EXPECT_EQ(solution->getDecimalValue(head), exp);
  delete solution;
}

TEST_F(q1290, sample_input04) {
  solution = new Solution();
  ListNode* head = ListNode::generate({1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0});
  int exp = 18880;
  EXPECT_EQ(solution->getDecimalValue(head), exp);
  delete solution;
}

TEST_F(q1290, sample_input05) {
  solution = new Solution();
  ListNode* head = ListNode::generate({0, 0});
  int exp = 0;
  EXPECT_EQ(solution->getDecimalValue(head), exp);
  delete solution;
}